test:
    pre:
        - echo yes | sdkmanager "build-tools;25.0.2"
        - echo yes | sdkmanager "extras;m2repository;com;android;support;constraint;constraint-layout;1.0.2"
    override:
        # Build the Raspberry PI app
        - cd robocar; ./gradlew test
        - cd robocar; ./gradlew assembleDebug
        - cp -r robocar/app/build/outputs/apk $CIRCLE_ARTIFACTS
        # Build the companion app
        - cd mobile; ./gradlew test
        - cd mobile; ./gradlew assembleDebug
        - cp -r mobile/app/build/outputs/apk $CIRCLE_ARTIFACTS
